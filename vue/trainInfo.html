<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—´ì°¨ ì •ë³´</title>
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" >
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous"
        referrerpolicy="no-referrer"
    />
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js">
    </script>
    <style>
        main {
            padding: 2rem;
            display: flex;
            gap: 1.2rem;
            flex-wrap: wrap;
        }

        .info {
            min-width: 12rem;
            max-width: 18rem;

            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }
    </style>
</head>
<body>
    <main id="app">
        <div class="info">
            <button type="button" @click="trainShow = !trainShow" class="btn btn-primary"><i class="fa-solid fa-train"></i> ë„ì°© ì—´ì°¨ ë³´ê¸°</button>
            <table v-show='trainShow' class="table table-striped">
                <thead>
                    <tr>
                        <th>ì—´ì°¨</th><th>ë°©ë©´</th><th>ë‚¨ì€ ì‹œê°„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ê¸‰í–‰</td><td>ê°•ë‚¨í–‰</td><td>3ë¶„</td>
                    </tr>
                    <tr>
                        <td>ì¼ë°˜</td><td>íŒêµí–‰</td><td>12ë¶„</td>
                    </tr>
                    <tr>
                        <td>íŠ¹ê¸‰</td><td>ì¸ì²œí–‰</td><td>8ë¶„</td>
                    </tr>
                </tr>
                </tbody>
            </table>      
        </div>
        <div class="info">
            <button type="button" @click="exitShow = !exitShow" class="btn btn-secondary">
                <i class="fa-solid fa-location-dot"></i> ì¶œêµ¬ ì•ˆë‚´ ë³´ê¸°
            </button>
            <ul v-show='exitShow' class="list-group">
                <li class="list-group-item">ğŸ“ 1ë²ˆ ì¶œêµ¬ - ëŒ€í˜•ì„œì </li>
                <li class="list-group-item">ğŸ“ 2ë²ˆ ì¶œêµ¬ - ì»¤í”¼ìˆ</li>
                <li class="list-group-item">ğŸ“ 3ë²ˆ ì¶œêµ¬ - ì‡¼í•‘ëª°</li>
                <li class="list-group-item">ğŸ“ 4ë²ˆ ì¶œêµ¬ - ì˜í™”ê´€</li>
            </ul>      
        </div>
        <div class="info">
            <button type="button" @click="updateSeats" class="btn btn-success">
                <i class="fa-solid fa-arrows-rotate"></i> ì¢Œì„ í˜„í™©
            </button>
            <ul class="list-group">
                <li v-for='seat in seats' :key="seat.name" class="list-group-item">
                    <i :class="seat.available ? 'fa-solid fa-circle-check text-success' : 'fa-solid fa-circle-xmark text-danger'"></i>
                    {{ seat.name }} - 
                    <span :class="seat.available ? 'text-success' : 'text-danger'">
                        {{ seat.available ? 'ë¹„ì–´ìˆìŒ' : 'ì‚¬ìš©ì¤‘' }}
                    </span>
                </li>
            </ul>      
        </div>
        <div class="info">
            <button type="button" @click="startCountdown" class="btn btn-light">
                <i :class="countdown && 'fa-solid fa-spinner fa-spin'"></i> 
                    <span>{{ countdown ? ` ì¶œë°œê¹Œì§€ ${countdown}ì´ˆ` : ' ì—´ì°¨ ì¶œë°œ ë²„íŠ¼' }}</span>
            </button>
            <span v-if="delayShow" :class="success ? 'text-success' : 'text-danger'">
                <b>{{ success ? 'ì—´ì°¨ê°€ ì¶œë°œí–ˆìŠµë‹ˆë‹¤ğŸš„' : 'ì—´ì°¨ ì§€ì—°! 5ë¶„ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”â³'}}</b>
            </span>
        </div>                
    </main>
    <script src="https://unpkg.com/vue@3"></script>    
    <script>
        Vue.createApp({
            data() {
                return {
                    trainShow: false,
                    exitShow: false,
                    seats: [],
                    countdown: 0,
                    success: false,
                    delayShow: false,
                }
            },
            methods: {
                updateSeats(){
                    const seatTypes = ['ì°½ê°€', 'ë³µë„', 'ìš°ëŒ€ì„', 'ì¶œì…êµ¬ ì˜†'];

                    this.seats = seatTypes.map(seat => ({
                        name: seat,
                        available: Math.random() > 0.5
                    }));
                },
                startCountdown() {
                    if(this.countdown > 0) return;

                    this.countdown = 5;
                    const timer = setInterval(() => {
                        this.countdown--;

                        if(this.countdown <=0){
                            clearInterval(timer);

                            this.success = Math.random() > 0.3;
                            this.delayShow = true;
                        }
                    }, 1000);
                }
            },
            mounted() {
                this.updateSeats();
            }
		}).mount('#app');
    </script>
</body>
</html>